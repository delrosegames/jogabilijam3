<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>EPlayer</name>
    <events>
        <variable constant="0" name="PlayerMainGunSide" sid="437141592594289" static="0" type="number">0</variable>
        <variable constant="0" name="PlayerDamageMultiplier" sid="608539370192102" static="0" type="number">1</variable>
        <variable constant="0" name="PLAYER_BASE_SPEED" sid="620735686174332" static="0" type="number">200</variable>
        <variable constant="0" name="PlayerLaserReady" sid="819262297421346" static="0" type="number">0</variable>
        <variable constant="0" name="PlayerMissileRate" sid="375553802846202" static="0" type="number">1</variable>
        <variable constant="0" name="PlayerSpeedMultiplier" sid="583273067681619" static="0" type="number">2</variable>
        <event-block sid="716238870580528">
            <conditions>
                <condition id="-18" name="On created" sid="903699328589762" type="Player" />
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="519787067569970" type="Player">
                    <param id="0" name="Instance variable">HitPoints</param>
                    <param id="1" name="Value">PLAYER_MAXIMUM_HIT_POINTS</param>
                </action>
                <action id="-5" name="Set width" sid="283079906132107" type="PlayerHitPointsBar">
                    <param id="0" name="Width">100</param>
                </action>
                <action id="-27" name="Set effect enabled" sid="664589263415509" type="Player">
                    <param id="0" name="Mode">0</param>
                    <param id="1" name="Effect">&quot;SetColorToRed&quot;</param>
                </action>
                <action id="-27" name="Set effect enabled" sid="203411321760765" type="PlayerHitPointsBarFrame">
                    <param id="0" name="Mode">0</param>
                    <param id="1" name="Effect">&quot;SetColorToRed&quot;</param>
                </action>
                <action id="4" name="Set animation" sid="302044082037810" type="PlayerHitPointsBar">
                    <param id="0" name="Animation">&quot;Green&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
                <action id="-9" name="Set value" sid="408190630417444" type="System">
                    <param id="0" name="Variable">PlayerDamageMultiplier</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action behavior="8Direction" id="4" name="Set max speed" sid="728605137592978" type="Player">
                    <param id="0" name="Max Speed">PLAYER_BASE_SPEED * PlayerSpeedMultiplier</param>
                </action>
                <action id="6" name="Set speed" sid="640075082957813" type="PlayerJet">
                    <param id="0" name="Speed">PlayerSpeedMultiplier * 5</param>
                </action>
                <action id="-5" name="Set width" sid="775608521385177" type="PlayerJet">
                    <param id="0" name="Width">PlayerJet.ImageHeight * PlayerSpeedMultiplier / 2</param>
                </action>
                <action id="-5" name="Set width" sid="694104613449639" type="PlayerLaserBar">
                    <param id="0" name="Width">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="239103529837438">
            <conditions>
                <condition id="-1" name="Every tick" sid="762835899577357" type="System" />
            </conditions>
            <actions>
                <action id="-3" name="Set position" sid="113635440425001" type="PlayerJet">
                    <param id="0" name="X">Player.ImagePointX(&quot;Jet&quot;)</param>
                    <param id="1" name="Y">Player.ImagePointY(&quot;Jet&quot;)</param>
                </action>
                <action id="-3" name="Set position" sid="303925449892816" type="PlayerLaser">
                    <param id="0" name="X">Player.ImagePointX(&quot;LaserGun&quot;)</param>
                    <param id="1" name="Y">Player.ImagePointY(&quot;LaserGun&quot;)</param>
                </action>
            </actions>
        </event-block>
        <comment>Wait until player moves automatically to the starting point, so enable its controls, disable its bullet behaviour and activate the scroller.</comment>
        <event-block sid="996441423414660">
            <conditions>
                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="795924624743923" type="Player">
                    <param id="0" name="Instance variable">IsActive</param>
                </condition>
                <condition id="-2" name="Compare Y" sid="334211231639411" type="Player">
                    <param id="0" name="Comparison">3</param>
                    <param id="1" name="Y co-ordinate">LayoutHeight - (Player.Height * 2)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Bullet" id="5" name="Set enabled" sid="522661639741283" type="Player">
                    <param id="0" name="State">0</param>
                </action>
                <action behavior="8Direction" id="8" name="Set enabled" sid="398320961351042" type="Player">
                    <param id="0" name="State">1</param>
                </action>
                <action id="-13" name="Set boolean" sid="720331487589628" type="Player">
                    <param id="0" name="Instance variable">IsActive</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-13" name="Set boolean" sid="370784403836976" type="Scroller">
                    <param id="0" name="Instance variable">IsActive</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <comment>When active, maintain player inside the viewport.</comment>
        <event-block sid="952539725142362">
            <conditions>
                <condition id="-8" name="Is boolean instance variable set" sid="680413860839775" type="Player">
                    <param id="0" name="Instance variable">IsActive</param>
                </condition>
                <condition id="-8" name="Compare two values" sid="724922966938589" type="System">
                    <param id="0" name="First value">timescale</param>
                    <param id="1" name="Comparison">4</param>
                    <param id="2" name="Second value">0</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="650866919183763">
                    <conditions>
                        <condition id="-2" name="Compare Y" sid="392757431720999" type="Player">
                            <param id="0" name="Comparison">2</param>
                            <param id="1" name="Y co-ordinate">ViewportTop(LAYER_PLAYER) + (Player.Height / 2)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Set Y" sid="942718111277772" type="Player">
                            <param id="0" name="Y">ViewportTop(LAYER_PLAYER) + (Player.Height / 2)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="983837177383549">
                    <conditions>
                        <condition id="-2" name="Compare Y" sid="864097733645564" type="Player">
                            <param id="0" name="Comparison">4</param>
                            <param id="1" name="Y co-ordinate">ViewportBottom(LAYER_PLAYER) - (Player.Height / 2)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Set Y" sid="142183170157646" type="Player">
                            <param id="0" name="Y">ViewportBottom(LAYER_PLAYER) - (Player.Height / 2)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="315416363243231">
                    <conditions>
                        <condition id="2" name="Key is down" sid="830689112003480" type="Keyboard">
                            <param id="0" name="Key">88</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="908738403412314">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="682425382727324" type="System">
                                    <param id="0" name="Interval (seconds)">Player.MainGunFireRate</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="218894118788098" type="Player">
                                    <param id="0" name="Object">PlayerBullet</param>
                                    <param id="1" name="Layer">LAYER_BULLETS</param>
                                    <param id="2" name="Image point">&quot;MainGun&quot;</param>
                                </action>
                                <action id="4" name="Set animation" sid="945895469869395" type="PlayerBullet">
                                    <param id="0" name="Animation">&quot;Size2&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="937598700174832" type="PlayerBullet">
                                    <param id="0" name="Angle">random(269, 271)</param>
                                </action>
                                <action id="-10" name="Set value" sid="334990252938076" type="PlayerBullet">
                                    <param id="0" name="Instance variable">Damage</param>
                                    <param id="1" name="Value">Player.MainGunDamage * 1.25 * PlayerDamageMultiplier</param>
                                </action>
                                <action id="25" name="Play at object" sid="896797988387924" type="Audio">
                                    <param id="0" name="Audio file">Hit2</param>
                                    <param id="1" name="Loop">0</param>
                                    <param id="2" name="Volume">-10</param>
                                    <param id="3" name="Object">Player</param>
                                    <param id="4" name="Inner angle">360</param>
                                    <param id="5" name="Outer angle">360</param>
                                    <param id="6" name="Outer gain">0</param>
                                    <param id="7" name="Tag (optional)">&quot;&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="482824612331672">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="307083341340561" type="System">
                                    <param id="0" name="Interval (seconds)">Player.MainGunFireRate * 1.5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="25" name="Play at object" sid="797327004533731" type="Audio">
                                    <param id="0" name="Audio file">Hit1</param>
                                    <param id="1" name="Loop">0</param>
                                    <param id="2" name="Volume">-15</param>
                                    <param id="3" name="Object">Player</param>
                                    <param id="4" name="Inner angle">360</param>
                                    <param id="5" name="Outer angle">360</param>
                                    <param id="6" name="Outer gain">0</param>
                                    <param id="7" name="Tag (optional)">&quot;&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="318945677552616">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="961918843430087" type="System">
                                            <param id="0" name="Variable">PlayerMainGunSide</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Spawn another object" sid="187803222117590" type="Player">
                                            <param id="0" name="Object">PlayerBullet</param>
                                            <param id="1" name="Layer">LAYER_BULLETS</param>
                                            <param id="2" name="Image point">&quot;MainLeftGun&quot;</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="439097982762464" type="PlayerBullet">
                                            <param id="0" name="Instance variable">Damage</param>
                                            <param id="1" name="Value">Player.MainGunDamage * 0.85 * PlayerDamageMultiplier</param>
                                        </action>
                                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="967180533139634" type="PlayerBullet">
                                            <param id="0" name="Angle">random(263, 269)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="948730082047019" type="System">
                                            <param id="0" name="Variable">PlayerMainGunSide</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="755334203823397">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="269174725967069" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Spawn another object" sid="286846765808392" type="Player">
                                            <param id="0" name="Object">PlayerBullet</param>
                                            <param id="1" name="Layer">LAYER_BULLETS</param>
                                            <param id="2" name="Image point">&quot;MainRightGun&quot;</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="477591492559821" type="PlayerBullet">
                                            <param id="0" name="Instance variable">Damage</param>
                                            <param id="1" name="Value">Player.MainGunDamage * 0.85 * PlayerDamageMultiplier</param>
                                        </action>
                                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="934699860585139" type="PlayerBullet">
                                            <param id="0" name="Angle">random(271, 277)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="830481608395105" type="System">
                                            <param id="0" name="Variable">PlayerMainGunSide</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="886188038899996">
                    <conditions>
                        <condition id="2" name="Key is down" sid="448943082037079" type="Keyboard">
                            <param id="0" name="Key">67</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="939605252059544">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="833753651509369" type="System">
                                    <param id="0" name="Interval (seconds)">1 / PlayerMissileRate / 4</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="533235403912183" type="Player">
                                    <param id="0" name="Object">PlayerMissile</param>
                                    <param id="1" name="Layer">LAYER_BULLETS</param>
                                    <param id="2" name="Image point">&quot;MissilePort&quot;</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="564205574337578" type="PlayerMissile">
                                    <param id="0" name="Angle">270</param>
                                </action>
                                <action behavior="Turret" id="1" name="Add object to target" sid="888171083871538" type="PlayerMissile">
                                    <param id="0" name="Target">FEnemy</param>
                                </action>
                                <action id="-9" name="Set value" sid="400715588556800" type="System">
                                    <param id="0" name="Variable">PlayerMissileRate</param>
                                    <param id="1" name="Value">max(0.1, PlayerMissileRate - 0.1)</param>
                                </action>
                                <action id="0" name="Call function" sid="605060759053401" type="Function">
                                    <param id="0" name="Name">&quot;UpdateMissileBar&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="25" name="Play at object" sid="771995123642151" type="Audio">
                                    <param id="0" name="Audio file">Wet4</param>
                                    <param id="1" name="Loop">0</param>
                                    <param id="2" name="Volume">-7</param>
                                    <param id="3" name="Object">Player</param>
                                    <param id="4" name="Inner angle">360</param>
                                    <param id="5" name="Outer angle">360</param>
                                    <param id="6" name="Outer gain">0</param>
                                    <param id="7" name="Tag (optional)">&quot;&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="170935967589626">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="651806796772548" type="Keyboard">
                            <param id="0" name="Key">90</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="166997633013870" type="System">
                            <param id="0" name="Variable">PlayerLaserReady</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="197519966243410" type="System">
                            <param id="0" name="Variable">PlayerLaserReady</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="0" name="Call function" sid="482361416708477" type="Function">
                            <param id="0" name="Name">&quot;UpdateLaserBar&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="-9" name="Set value" sid="316050627245423" type="System">
                            <param id="0" name="Variable">CurrentTimeScale</param>
                            <param id="1" name="Value">0.75</param>
                        </action>
                        <action id="-13" name="Set time scale" sid="178374318377223" type="System">
                            <param id="0" name="Time scale">CurrentTimeScale</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="880708307986633" type="Player">
                            <param id="0" name="Object">PlayerLaser</param>
                            <param id="1" name="Layer">LAYER_BULLETS</param>
                            <param id="2" name="Image point">&quot;LaserGun&quot;</param>
                        </action>
                        <action id="-5" name="Set width" sid="108231087675458" type="PlayerLaser">
                            <param id="0" name="Width">660</param>
                        </action>
                        <action id="-16" name="Wait" sid="686566662951757" type="System">
                            <param id="0" name="Seconds">0.2</param>
                        </action>
                        <action behavior="Rotate" id="1" name="Set acceleration" sid="938588667270405" type="PlayerLaser">
                            <param id="0" name="Acceleration">540</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="704862623107050">
                    <conditions>
                        <condition id="2" name="Key is down" sid="478969682588183" type="Keyboard">
                            <param id="0" name="Key">37</param>
                        </condition>
                        <condition id="2" inverted="1" name="Key is down" sid="482135090455502" type="Keyboard">
                            <param id="0" name="Key">39</param>
                        </condition>
                        <condition id="2" inverted="1" name="Is playing" sid="945589845773467" type="Player">
                            <param id="0" name="Animation">&quot;TurningLeft&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="480525557015001" type="Player">
                            <param id="0" name="Animation">&quot;TurningLeft&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="204547320781129">
                    <conditions>
                        <condition id="2" name="Key is down" sid="538475478572632" type="Keyboard">
                            <param id="0" name="Key">39</param>
                        </condition>
                        <condition id="2" inverted="1" name="Key is down" sid="262875933845401" type="Keyboard">
                            <param id="0" name="Key">37</param>
                        </condition>
                        <condition id="2" inverted="1" name="Is playing" sid="801590756725926" type="Player">
                            <param id="0" name="Animation">&quot;TurningRight&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="620637434163936" type="Player">
                            <param id="0" name="Animation">&quot;TurningRight&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="358547705563120">
                    <conditions>
                        <condition id="2" inverted="1" name="Key is down" sid="132125914002832" type="Keyboard">
                            <param id="0" name="Key">37</param>
                        </condition>
                        <condition id="2" inverted="1" name="Key is down" sid="788921103872327" type="Keyboard">
                            <param id="0" name="Key">39</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="538596461399651" type="Player">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-group description="" sid="688883001254909" title="Player speed control">
            <sub-events>
                <event-block sid="208182587513897">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="126791700301033" type="Keyboard">
                            <param id="0" name="Key">65</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="638265983365732" type="System">
                            <param id="0" name="Variable">PlayerSpeedMultiplier</param>
                            <param id="1" name="Value">max(1, PlayerSpeedMultiplier - 1)</param>
                        </action>
                        <action id="0" name="Call function" sid="868677904308026" type="Function">
                            <param id="0" name="Name">&quot;ChangePlayerSpeed&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="460327002842385">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="251561586615529" type="Keyboard">
                            <param id="0" name="Key">68</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="484413012438081" type="System">
                            <param id="0" name="Variable">PlayerSpeedMultiplier</param>
                            <param id="1" name="Value">min(3, PlayerSpeedMultiplier + 1)</param>
                        </action>
                        <action id="0" name="Call function" sid="383058034572815" type="Function">
                            <param id="0" name="Name">&quot;ChangePlayerSpeed&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="264534550082760">
                    <conditions>
                        <condition id="0" name="On function" sid="519926538586529" type="Function">
                            <param id="0" name="Name">&quot;ChangePlayerSpeed&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="4" name="Set max speed" sid="538381446796523" type="Player">
                            <param id="0" name="Max Speed">PLAYER_BASE_SPEED * PlayerSpeedMultiplier</param>
                        </action>
                        <action id="6" name="Set speed" sid="856932824268269" type="PlayerJet">
                            <param id="0" name="Speed">PlayerSpeedMultiplier * 5</param>
                        </action>
                        <action id="-5" name="Set width" sid="286235414658982" type="PlayerJet">
                            <param id="0" name="Width">PlayerJet.ImageHeight * PlayerSpeedMultiplier / 2</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="612109254394270">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="813050623310011" type="System">
                                    <param id="0" name="Variable">PlayerSpeedMultiplier</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Value">2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-5" name="Set width" sid="613549429438474" type="PlayerSpeedBar">
                                    <param id="0" name="Width">20</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="109828591204661">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="116195216870292" type="System">
                                    <param id="0" name="Variable">PlayerSpeedMultiplier</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-5" name="Set width" sid="454653868515295" type="PlayerSpeedBar">
                                    <param id="0" name="Width">40</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="827810111965929">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="712371682187559" type="System">
                                    <param id="0" name="Variable">PlayerSpeedMultiplier</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-5" name="Set width" sid="282141926947953" type="PlayerSpeedBar">
                                    <param id="0" name="Width">60</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="638522089456063" title="Player take damage">
            <sub-events>
                <event-block sid="701743095250206">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="546108744796631" type="FEnemyBullet">
                            <param id="0" name="Object">Player</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action disabled="1" id="-12" name="Subtract from" sid="357560243910842" type="Player">
                            <param id="0" name="Instance variable">HitPoints</param>
                            <param id="1" name="Value">FEnemyBullet.Damage</param>
                        </action>
                        <action id="-9" name="Destroy" sid="488437630785833" type="FEnemyBullet" />
                        <action id="0" name="Call function" sid="938545053307766" type="Function">
                            <param id="0" name="Name">&quot;PlayerTakeDamage&quot;</param>
                            <param id="1" name="Parameter {n}">FEnemyBullet.Damage</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="371262129260186">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="547386810670796" type="FEnemy">
                            <param id="0" name="Object">Player</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action disabled="1" id="-12" name="Subtract from" sid="653491331586828" type="Player">
                            <param id="0" name="Instance variable">HitPoints</param>
                            <param id="1" name="Value">FEnemy.HitDamage</param>
                        </action>
                        <action id="0" name="Call function" sid="900196398322264" type="Function">
                            <param id="0" name="Name">&quot;PlayerTakeDamage&quot;</param>
                            <param id="1" name="Parameter {n}">FEnemy.HitDamage</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="146349603912707">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="322553987525905" type="FEnemy">
                                    <param id="0" name="Instance variable">DestroyOnHit</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="379650789787918" type="FEnemy">
                                    <param id="0" name="Instance variable">HitPoints</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="158287784035569">
                    <conditions>
                        <condition id="0" name="On function" sid="358261919643535" type="Function">
                            <param id="0" name="Name">&quot;PlayerTakeDamage&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="25" name="Play at object" sid="907608330000247" type="Audio">
                            <param id="0" name="Audio file">Bump3</param>
                            <param id="1" name="Loop">0</param>
                            <param id="2" name="Volume">0</param>
                            <param id="3" name="Object">Player</param>
                            <param id="4" name="Inner angle">360</param>
                            <param id="5" name="Outer angle">360</param>
                            <param id="6" name="Outer gain">0</param>
                            <param id="7" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="651354388967612" type="Player">
                            <param id="0" name="Instance variable">HitPoints</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                        </action>
                        <action id="0" name="Call function" sid="390609935951146" type="Function">
                            <param id="0" name="Name">&quot;UpdatePlayerHitPointsBar&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="0" name="Call function" sid="811830816684535" type="Function">
                            <param id="0" name="Name">&quot;ShakeScreen&quot;</param>
                            <param id="1" name="Parameter {n}">SCREEN_SHAKE_PLAYER_DAMAGED_BASE_MAGNITUDE * Function.Param(0) / 2{###}SCREEN_SHAKE_PLAYER_DAMAGED_BASE_TIME * Function.Param(0) / 2</param>
                        </action>
                        <action id="-27" name="Set effect enabled" sid="503271127183096" type="Player">
                            <param id="0" name="Mode">1</param>
                            <param id="1" name="Effect">&quot;SetColorToRed&quot;</param>
                        </action>
                        <action id="-27" name="Set effect enabled" sid="994753971712463" type="PlayerHitPointsBarFrame">
                            <param id="0" name="Mode">1</param>
                            <param id="1" name="Effect">&quot;SetColorToRed&quot;</param>
                        </action>
                        <action id="-16" name="Wait" sid="831773917057712" type="System">
                            <param id="0" name="Seconds">0.05</param>
                        </action>
                        <action id="-27" name="Set effect enabled" sid="790597690280027" type="Player">
                            <param id="0" name="Mode">0</param>
                            <param id="1" name="Effect">&quot;SetColorToRed&quot;</param>
                        </action>
                        <action id="-27" name="Set effect enabled" sid="859286412326438" type="PlayerHitPointsBarFrame">
                            <param id="0" name="Mode">0</param>
                            <param id="1" name="Effect">&quot;SetColorToRed&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="126968542615327">
                    <conditions>
                        <condition id="0" name="On function" sid="907538813123009" type="Function">
                            <param id="0" name="Name">&quot;UpdatePlayerHitPointsBar&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-5" name="Set width" sid="895044037292844" type="PlayerHitPointsBar">
                            <param id="0" name="Width">max(Player.HitPoints / PLAYER_MAXIMUM_HIT_POINTS * 100, 0)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="379273260923359">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="716578849853557" type="Player">
                                    <param id="0" name="Instance variable">HitPoints</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">PLAYER_MAXIMUM_HIT_POINTS / 2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="293856120349516" type="PlayerHitPointsBar">
                                    <param id="0" name="Animation">&quot;Green&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-9" name="Set value" sid="951013743034084" type="System">
                                    <param id="0" name="Variable">PlayerDamageMultiplier</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action behavior="Sine" id="0" name="Set active" sid="419712956097110" type="PlayerHitPointsBarFrame">
                                    <param id="0" name="State">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="133396345417045">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="911543122002822" type="Player">
                                    <param id="0" name="Instance variable">HitPoints</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">PLAYER_MAXIMUM_HIT_POINTS / 2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="297021288404092" type="PlayerHitPointsBar">
                                    <param id="0" name="Animation">&quot;Yellow&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-9" name="Set value" sid="250751973282122" type="System">
                                    <param id="0" name="Variable">PlayerDamageMultiplier</param>
                                    <param id="1" name="Value">1.5</param>
                                </action>
                                <action behavior="Sine" id="0" name="Set active" sid="122241550464551" type="PlayerHitPointsBarFrame">
                                    <param id="0" name="State">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="559034774795550">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="749880920432796" type="Player">
                                    <param id="0" name="Instance variable">HitPoints</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">PLAYER_MAXIMUM_HIT_POINTS / 4</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="563121448890392" type="PlayerHitPointsBar">
                                    <param id="0" name="Animation">&quot;Red&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-9" name="Set value" sid="363394762560015" type="System">
                                    <param id="0" name="Variable">PlayerDamageMultiplier</param>
                                    <param id="1" name="Value">2.25</param>
                                </action>
                                <action behavior="Sine" id="0" name="Set active" sid="954191390919797" type="PlayerHitPointsBarFrame">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Player is destroyed</comment>
                <event-block sid="910961836144231">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="252916749924100" type="Player">
                            <param id="0" name="Instance variable">HitPoints</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="835191650304335" type="System" />
                    </conditions>
                    <actions>
                        <action id="25" name="Play at object" sid="936809104815686" type="Audio">
                            <param id="0" name="Audio file">Explosion 4</param>
                            <param id="1" name="Loop">0</param>
                            <param id="2" name="Volume">0</param>
                            <param id="3" name="Object">Player</param>
                            <param id="4" name="Inner angle">360</param>
                            <param id="5" name="Outer angle">360</param>
                            <param id="6" name="Outer gain">0</param>
                            <param id="7" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="285010587417963" type="FEnemy">
                            <param id="0" name="Instance variable">IsActive</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="0" name="Call function" sid="709022221816410" type="Function">
                            <param id="0" name="Name">&quot;ShakeScreen&quot;</param>
                            <param id="1" name="Parameter {n}">SCREEN_SHAKE_PLAYER_DESTROYED_MAGNITUDE{###}SCREEN_SHAKE_PLAYER_DESTROYED_TIME</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="739360743123355">
                            <conditions>
                                <condition id="-12" name="Repeat" sid="917638102593391" type="System">
                                    <param id="0" name="Count">10</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="169795492717019" type="System">
                                    <param id="0" name="Object to create">FExplosion</param>
                                    <param id="1" name="Layer">LAYER_PLAYER</param>
                                    <param id="2" name="X">Player.X + random(-(Player.Width/2), (Player.Width/2))</param>
                                    <param id="3" name="Y">Player.Y + random(-(Player.Height/2), (Player.Height/2))</param>
                                </action>
                                <action id="-16" name="Wait" sid="131876975627031" type="System">
                                    <param id="0" name="Seconds">0.02</param>
                                </action>
                                <action id="-3" name="Create object" sid="481032547568448" type="System">
                                    <param id="0" name="Object to create">FExplosion</param>
                                    <param id="1" name="Layer">LAYER_PLAYER</param>
                                    <param id="2" name="X">Player.X + random(-(Player.Width/2), (Player.Width/2))</param>
                                    <param id="3" name="Y">Player.Y + random(-(Player.Height/2), (Player.Height/2))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="687716185534844">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="503411780699406" type="System" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="272213009145660" type="Player" />
                                <action id="-13" name="Set boolean" sid="962286487068860" type="Scroller">
                                    <param id="0" name="Instance variable">IsActive</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="504022057783487" title="Player bullets control">
            <sub-events>
                <event-block any="1" sid="340197415661034">
                    <conditions>
                        <condition id="-2" name="Compare Y" sid="515444023750876" type="FPlayerBullet">
                            <param id="0" name="Comparison">3</param>
                            <param id="1" name="Y co-ordinate">ViewportTop(LAYER_BULLETS)</param>
                        </condition>
                        <condition id="-2" name="Compare Y" sid="690651197255702" type="FPlayerBullet">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Y co-ordinate">ViewportBottom(LAYER_BULLETS)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="502715436954797" type="FPlayerBullet" />
                    </actions>
                </event-block>
                <event-block sid="449662548938586">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="166209321226169" type="FPlayerBullet">
                            <param id="0" name="Object">FEnemy</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="601288799493078" type="System">
                            <param id="0" name="Variable">PlayerLaserReady</param>
                            <param id="1" name="Value">min(1, PlayerLaserReady + 0.01)</param>
                        </action>
                        <action id="0" name="Call function" sid="876913437447502" type="Function">
                            <param id="0" name="Name">&quot;UpdateLaserBar&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="540467646461911">
                    <conditions>
                        <condition id="-11" name="For Each" sid="173391121024955" type="System">
                            <param id="0" name="Object">PlayerMissile</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="118235666406718" type="PlayerMissile">
                            <param id="0" name="Object">PlayerMissileTrail</param>
                            <param id="1" name="Layer">LAYER_ENEMIES</param>
                            <param id="2" name="Image point">&quot;Trail&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="454309397150421">
                    <conditions>
                        <condition id="5" name="On any finished" sid="566774258019819" type="PlayerMissileTrail" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="689984165313878" type="PlayerMissileTrail" />
                    </actions>
                </event-block>
                <event-block sid="843882609026137">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="720396278527416" type="System">
                            <param id="0" name="First value">timescale</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="584016433815845">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="354277267533720" type="System">
                                    <param id="0" name="Interval (seconds)">0.1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="812769154405969" type="System">
                                    <param id="0" name="Variable">PlayerLaserReady</param>
                                    <param id="1" name="Value">min(1, PlayerLaserReady + 0.005)</param>
                                </action>
                                <action id="0" name="Call function" sid="739034582204159" type="Function">
                                    <param id="0" name="Name">&quot;UpdateLaserBar&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="303330312409352">
                            <conditions>
                                <condition id="2" inverted="1" name="Key is down" sid="365764907808361" type="Keyboard">
                                    <param id="0" name="Key">67</param>
                                </condition>
                                <condition id="-6" name="Every X seconds" sid="990118718894220" type="System">
                                    <param id="0" name="Interval (seconds)">0.25</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="860932521196295" type="System">
                                    <param id="0" name="Variable">PlayerMissileRate</param>
                                    <param id="1" name="Value">min(1, PlayerMissileRate + (PlayerMissileRate / 10))</param>
                                </action>
                                <action id="0" name="Call function" sid="602342702849416" type="Function">
                                    <param id="0" name="Name">&quot;UpdateMissileBar&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="570006807692681">
                    <conditions>
                        <condition id="0" name="On function" sid="837855474092894" type="Function">
                            <param id="0" name="Name">&quot;UpdateMissileBar&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-5" name="Set width" sid="994237748184566" type="PlayerMissileBar">
                            <param id="0" name="Width">PlayerMissileRate * 23</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="" sid="703363000842184" title="Player laser control">
                    <sub-events>
                        <event-block sid="945684817681097">
                            <conditions>
                                <condition id="0" name="On function" sid="624671386055014" type="Function">
                                    <param id="0" name="Name">&quot;UpdateLaserBar&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-5" name="Set width" sid="118600462262150" type="PlayerLaserBar">
                                    <param id="0" name="Width">PlayerLaserReady * 23</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="427889379245904">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="998933918718893" type="System">
                                            <param id="0" name="Variable">PlayerLaserReady</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Sine" id="0" name="Set active" sid="823457706055517" type="PlayerLaserBarFrame">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="358845821213503">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="769932324370986" type="System" />
                                    </conditions>
                                    <actions>
                                        <action behavior="Sine" id="0" name="Set active" sid="553972170935402" type="PlayerLaserBarFrame">
                                            <param id="0" name="State">0</param>
                                        </action>
                                        <action id="-16" name="Set opacity" sid="818999680201031" type="PlayerLaserBarFrame">
                                            <param id="0" name="Opacity">100</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="154442942251744">
                            <conditions>
                                <condition id="-18" name="On created" sid="204850286321187" type="PlayerLaser" />
                            </conditions>
                            <actions>
                                <action id="25" name="Play at object" sid="995341943627262" type="Audio">
                                    <param id="0" name="Audio file">MechanicalA1</param>
                                    <param id="1" name="Loop">1</param>
                                    <param id="2" name="Volume">0</param>
                                    <param id="3" name="Object">Player</param>
                                    <param id="4" name="Inner angle">360</param>
                                    <param id="5" name="Outer angle">360</param>
                                    <param id="6" name="Outer gain">0</param>
                                    <param id="7" name="Tag (optional)">&quot;LaserSound&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="868033916932746">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="484775664404760" type="PlayerLaser">
                                    <param id="0" name="Object">FEnemyBullet</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="494782550287753" type="FEnemyBullet" />
                            </actions>
                        </event-block>
                        <event-block sid="996101571400925">
                            <conditions>
                                <condition id="5" name="Is tag playing" sid="359042958493001" type="Audio">
                                    <param id="0" name="Tag">&quot;LaserSound&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="3" name="Set volume" sid="836621892722461" type="Audio">
                                    <param id="0" name="Tag">&quot;LaserSound&quot;</param>
                                    <param id="1" name="dB">-(100 - PlayerLaser.Opacity)</param>
                                </action>
                                <action id="0" name="Set text" sid="866146037603186" type="InstructionsText">
                                    <param id="0" name="Text">-(100 - PlayerLaser.Opacity)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="293577237411176">
                            <conditions>
                                <condition id="-19" name="On destroyed" sid="729842544503939" type="PlayerLaser" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="567653319955133" type="System">
                                    <param id="0" name="Variable">CurrentTimeScale</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-13" name="Set time scale" sid="545257020770669" type="System">
                                    <param id="0" name="Time scale">CurrentTimeScale</param>
                                </action>
                                <action id="6" name="Stop" sid="747267761218504" type="Audio">
                                    <param id="0" name="Tag">&quot;LaserSound&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
